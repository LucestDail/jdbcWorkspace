<%@page import="model.MemberDao"%>
<%@ page language="java" contentType="text/html; charset=EUC-KR"
    pageEncoding="EUC-KR"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="EUC-KR">
<title>Insert title here</title>
</head>
<body>
<%request.setCharacterEncoding("euc-kr");%>
<jsp:useBean id = "mem" class = "model.Member"/>
<%-- 파라매터와 Member 객체의 프로퍼티가 같은 경우(property="*") setProperty 를 이용, Member 객체에 파라매터 저장 --%>
<jsp:setProperty property = "*" name = "mem"/>
<%

MemberDao dao = new MemberDao();
//dao.insert 통하여 성공하면 양수, 실패시 0, 음수 반환
int result = dao.insert(mem);
String msg = "회원가입 실패";
String url = "joinForm.jsp";
if(result > 0){
	msg = mem.getName() + "님 회원정보 수정 완료";
	url = "loginForm.jsp";
}
%>
<script>
	alert("<%=msg%>");
	location.href = "<%=url%>";

</script>
</body>
</html>